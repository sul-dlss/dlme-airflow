metadata:
  version: 1
  data_path: harvard
  schedule: "0 10 * * *"
sources:
  ihp:
    driver: oai_xml
    args:
      collection_url: https://api.lib.harvard.edu/oai
      metadata_prefix: oai_dc
      set: "ihp"
    metadata:
      data_path: harvard/islamic_heritage_project
      config: harvard_islamic_heritage_project
      fields:
        id:
          path: "//header:identifier"
          namespace:
            header: "http://www.openarchives.org/OAI/2.0/"
          optional: true
        title:
          path: ".//mods:titleInfo/mods:title"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: true
        type:
          path: ".//mods:typeOfResource"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        genre:
          path: ".//mods:genre"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        place:
          path: ".//mods:originInfo/mods:place/mods:placeTerm"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        publisher:
          path: ".//mods:originInfo/mods:place/mods:publisher"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        date_issued:
          path: ".//mods:originInfo/mods:dateIssued"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        physical_description:
          path: ".//mods:physicalDescription/mods:extent"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        subject:
          path: ".//mods:subject/mods:topic"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        physical_location:
          path: ".//mods:location/mods:physicalLocation"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        shelf_locator:
          path: ".//mods:location/mods:shelfLocator"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        record_identifier:
          path: ".//mods:recordInfo/mods:recordIdentifier"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        language:
          path: ".//mods:language/mods:languageTerm[@type = 'code']"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        shown_at:
          path: ".//mods:location/mods:url[@access = 'object in context']"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        preview:
          path: ".//mods:location/mods:url[@access = 'preview']"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
        is_shown:
          path: ".//mods:location/mods:url[@access = 'raw object']"
          namespace:
            mods: "http://www.loc.gov/mods/v3"
          optional: false
